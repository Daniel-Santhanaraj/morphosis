(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{42:function(t,e,c){},44:function(t,e,c){"use strict";c.r(e);var a=c(1),n=c.n(a),s=c(18),i=c.n(s),r=c(2),j=c(19),u=c.n(j),o=(c(42),c(4)),l=c(0),d=function(t){var e=Object(a.useState)(t.data),c=Object(r.a)(e,2),n=c[0],s=c[1],i=Object(a.useState)([]),j=Object(r.a)(i,2),u=j[0],d=j[1],b=Object(a.useState)(""),O=Object(r.a)(b,2),h=O[0],m=O[1],x=Object(a.useState)(t.data),f=Object(r.a)(x,2),v=f[0],p=f[1],k=function(t){var e=new Date(t),c=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear();return c.length<2&&(c="0"+c),a.length<2&&(a="0"+a),[a,c,n].join("-")},g=function(e){null==e.actual_stock&&(e.actual_stock=e.stock),e.stock=e.stock-1;var c=Object(o.a)(n),a=c.findIndex((function(t){return t.name===e.name}));c[a]=e,s(c),t.getProducts(n)},N=function(){if(p(n),""!=h){var t=Object(o.a)(n).filter((function(t){return t.material.toLowerCase()===h.toLowerCase()}));p(t)}};return Object(l.jsxs)("div",{className:"products",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h1",{className:"title",children:"Robot Market"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",className:"input",placeholder:"Search by material",onChange:function(t){return m(t.target.value)},onKeyDown:function(t){return function(t){"Enter"===t.key&&N()}(t)},onBlur:function(t){return N()}}),Object(l.jsx)("button",{type:"button",onClick:function(){N()},children:"Search"})]})]}),v.length>0?Object(l.jsx)("div",{className:"grid",children:v.map((function(e,c){return Object(l.jsx)("div",{className:"cardDiv",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("img",{src:"".concat((a=e.image,a.split("?")[0]),"?size=240x240"),alt:"img"}),Object(l.jsx)("h3",{children:e.name}),Object(l.jsx)("span",{className:"material",children:e.material}),Object(l.jsxs)("h4",{children:["\u0e3f ",e.price]}),Object(l.jsxs)("div",{className:"additional",children:[Object(l.jsxs)("span",{className:"stock",children:[" In stock: ",e.stock]}),Object(l.jsxs)("span",{className:"date",children:["Created at: ",k(e.createdAt)]})]}),Object(l.jsx)("button",{className:e.stock>0?"active":"inactive",onClick:function(){return e.stock>0?function(e,c){var a=u;a.push(e);var n=Object(o.a)(new Map(a.map((function(t){return[t.name,t]}))).values());n.length<=5?(t.getUniqueRobot(n),g(e),d(a),t.getCart(u)):(a.splice(-1),n.splice(-1),n.filter((function(t){return t.name===e.name})).length>0?g(e):alert("Maximum limit exceeded"))}(e):null},children:"add to cart"})]})},c);var a}))}):Object(l.jsx)("h3",{className:"empty",children:"No Data"})]})},b=function(t){var e=Object(a.useState)([]),c=Object(r.a)(e,2),n=c[0],s=c[1],i=Object(a.useState)(0),j=Object(r.a)(i,2),u=j[0],d=j[1],b=Object(a.useState)(0),O=Object(r.a)(b,2),h=O[0],m=O[1],x=Object(a.useState)([]),f=Object(r.a)(x,2),v=f[0],p=f[1],k=Object(a.useState)(t.data),g=Object(r.a)(k,2),N=g[0],y=(g[1],v.reduce((function(t,e){return t+=parseFloat(e.price)*(e.actual_stock-e.stock)}),0)),S=v.reduce((function(t,e){return t+=e.actual_stock-e.stock}),0);Object(a.useEffect)((function(){s(t.robots),p(t.unique),d(y.toFixed(2)),m(S)}),[t,n,v]);var C=function(t){var e=t.actual_stock-t.stock;return 0!=e?e:0},_=function(e,c){var a=Object(o.a)(N).map((function(t,a){if(t.name==e.name)if(0!=t.stock&&"inc"==c)t.stock=t.stock-1;else{if(!(t.stock<t.actual_stock-1&&"dec"==c))return!1;t.stock=t.stock+1}return t}));t.getProducts(a)};return Object(l.jsxs)("div",{className:"cartArea",children:[Object(l.jsxs)("h1",{className:"title",children:["Cart (",h,")"]}),v.length>0?Object(l.jsxs)("div",{children:[Object(l.jsx)("ul",{children:v.map((function(t,e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("img",{src:"".concat((c=t.image,c.split("?")[0]),"?size=240x240"),alt:"img"}),Object(l.jsx)("h3",{children:t.name}),Object(l.jsxs)("div",{className:"quantity",children:[Object(l.jsx)("b",{className:"quantity__minus",onClick:function(){return _(t,"dec")},children:Object(l.jsx)("span",{children:"-"})}),Object(l.jsx)("input",{name:"quantity",type:"text",className:"quantity__input",value:C(t),readOnly:!0}),Object(l.jsx)("b",{className:"quantity__plus",onClick:function(){return _(t,"inc")},children:Object(l.jsx)("span",{children:"+"})})]})]},e);var c}))}),Object(l.jsxs)("div",{className:"summary",children:[Object(l.jsxs)("h3",{children:["Total Amount: ",h]}),Object(l.jsxs)("h3",{children:["Total Price: \u0e3f ",u]})]})]}):Object(l.jsx)("h3",{className:"empty",children:"Cart is empty!"})]})};var O=function(){var t=Object(a.useState)(!0),e=Object(r.a)(t,2),c=e[0],n=e[1],s=Object(a.useState)([]),i=Object(r.a)(s,2),j=i[0],o=i[1],O=Object(a.useState)([]),h=Object(r.a)(O,2),m=h[0],x=h[1],f=Object(a.useState)([]),v=Object(r.a)(f,2),p=v[0],k=v[1],g=Object(a.useState)("inactive"),N=Object(r.a)(g,2),y=N[0],S=N[1],C=Object(a.useState)("up"),_=Object(r.a)(C,2),w=_[0],q=_[1];return Object(a.useEffect)((function(){u.a.get("https://santaz.biz/morphosis/data.json").then((function(t){o(t.data.data),n(!1)})).catch((function(t){return console.error("error ".concat(t))}))}),[]),Object(a.useEffect)((function(){S("up"==w?"inactive":"active")}),[w]),Object(l.jsx)("div",{className:"App",children:Object(l.jsx)("div",{className:"body-wrap",children:Object(l.jsx)("div",{className:"container",children:c?Object(l.jsxs)("div",{className:"lds-roller loader",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]}):Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-9 padding15",children:Object(l.jsx)(d,{data:j,getCart:function(t){return x(t)},getProducts:function(t){return o(t)},getUniqueRobot:function(t){return k(t)}})}),Object(l.jsxs)("div",{className:"col-3 padding15 cartFixed ".concat(y),children:[Object(l.jsx)("span",{className:"arrow ".concat(w),onClick:function(){q("up"==w?"down":"up")}}),Object(l.jsx)(b,{robots:m,unique:p,data:j,getProducts:function(t){return o(t)}})]})]})})})})};i.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.f6e0d67e.chunk.js.map